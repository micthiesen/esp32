[
  {
    "label": "Build",
    "command": "source ./esp-idf/export.sh && idf.py build",
    "tags": ["esp32-build"],
    "reveal": "always",
    "use_new_terminal": false
  },
  {
    "label": "Flash",
    "command": "source ./esp-idf/export.sh && idf.py flash",
    "tags": ["esp32-build"],
    "reveal": "always",
    "use_new_terminal": false,
    "hide": "on_success"
  },
  {
    "label": "Monitor",
    "command": "source ./esp-idf/export.sh && idf.py monitor",
    "tags": ["esp32-dev"],
    "reveal": "always",
    "use_new_terminal": true
  },
  {
    "label": "Build & Flash",
    "command": "source ./esp-idf/export.sh && idf.py build flash",
    "tags": ["esp32-build"],
    "reveal": "always",
    "use_new_terminal": false
  },
  {
    "label": "Build & Flash & Monitor",
    "command": "source ./esp-idf/export.sh && idf.py build flash monitor",
    "tags": ["esp32-build"],
    "reveal": "always",
    "use_new_terminal": false
  },
  {
    "label": "Clean",
    "command": "source ./esp-idf/export.sh && idf.py fullclean",
    "tags": ["esp32-build"],
    "reveal": "always",
    "use_new_terminal": false,
    "hide": "on_success"
  },
  {
    "label": "Menuconfig",
    "command": "source ./esp-idf/export.sh && idf.py menuconfig",
    "tags": ["esp32-dev"],
    "reveal": "always",
    "use_new_terminal": true
  },
  {
    "label": "Select Main Module",
    "command": "./select_main.sh",
    "tags": ["esp32-dev"],
    "reveal": "always",
    "use_new_terminal": false,
    "hide": "on_success"
  },
  {
    "label": "Show Current Module",
    "command": "if [ -f .main_module ]; then echo \"Current module: $(cat .main_module)\"; else echo \"No module selected (default: blink)\"; fi",
    "tags": ["esp32-dev"],
    "reveal": "always",
    "use_new_terminal": false
  },
  {
    "label": "Set Target: ESP32-C3",
    "command": "source ./esp-idf/export.sh && idf.py set-target esp32c3",
    "tags": ["esp32-target"],
    "reveal": "always",
    "use_new_terminal": false,
    "hide": "on_success"
  },
  {
    "label": "Set Target: ESP32-H2",
    "command": "source ./esp-idf/export.sh && idf.py set-target esp32h2",
    "tags": ["esp32-target"],
    "reveal": "always",
    "use_new_terminal": false,
    "hide": "on_success"
  },
  {
    "label": "Show Current Target",
    "command": "source ./esp-idf/export.sh && idf.py --version && grep 'CONFIG_IDF_TARGET=' sdkconfig | cut -d'=' -f2 | tr -d '\"' | sed 's/^/Current target: /'",
    "tags": ["esp32-target"],
    "reveal": "always",
    "use_new_terminal": false
  },
  {
    "label": "Size Analysis",
    "command": "source ./esp-idf/export.sh && idf.py size",
    "tags": ["esp32-analysis"],
    "reveal": "always",
    "use_new_terminal": false
  },
  {
    "label": "Component Size Analysis",
    "command": "source ./esp-idf/export.sh && idf.py size-components",
    "tags": ["esp32-analysis"],
    "reveal": "always",
    "use_new_terminal": false
  },
  {
    "label": "Erase Flash",
    "command": "source ./esp-idf/export.sh && idf.py erase-flash",
    "tags": ["esp32-analysis"],
    "reveal": "always",
    "use_new_terminal": false,
    "hide": "on_success"
  }
]
